<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1, viewport-fit=cover">

  <meta name="description" content="Personal blog about IT, Electronics, InfoSec, Hacking, Bug Hunting...">
  <meta name="keywords" content="Blog, Computer Science, IT, Electronics, Hacking, InfoSec, CTF, Bug Bounty, Open Source">
  <meta name="author" content="Paul-Emmanuel Raoul">

  
  <link rel="apple-touch-icon" sizes="180x180" href="&#x2F;favicon&#x2F;apple-touch-icon.png" />
  
  
  <link rel="icon" type="image/png" sizes="16x16" href="&#x2F;favicon&#x2F;favicon-16x16.png" />
  
  
  <link rel="icon" type="image/png" sizes="32x32" href="&#x2F;favicon&#x2F;favicon-32x32.png" />
  
  
  <link rel="manifest" href="&#x2F;favicon&#x2F;site.webmanifest" />
  

  <title>Skyper&#x27;s blog</title>

  <link rel="stylesheet" href="https://blog.skyplabs.net/css/style.css">

  
  <script defer data-domain="blog.skyplabs.net" src="https://plausible.io/js/plausible.js"></script>
  

  <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
  <script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>

  <link rel="alternate" type="application/atom+xml" title="RSS" href="https://blog.skyplabs.net/atom.xml">
</head>
<body vocab="http://schema.org/" typeof="Blog">
  
  <div class="sidebar">
    <div class="container sidebar-sticky">
      <div class="sidebar-about">
        <h1><a href="https://blog.skyplabs.net">Skyper&#x27;s blog</a></h1>
        <p class="lead">Personal blog about IT, Electronics, InfoSec, Hacking, Bug Hunting...</p>
      </div>

      <div class="sidebar-links">
        
        <a class="icon-github" href="https://github.com/SkypLabs" title="GitHub" target="_blank" rel="noopener noreferrer"></a>
        

        
        <a class="icon-docker-hub" href="https://hub.docker.com/u/skyplabs" title="Docker Hub" target="_blank" rel="noopener noreferrer"></a>
        

        
        
        
        <a class="icon-mastodon" href="https://fosstodon.org/@Skyper" title="Mastodon" target="_blank" rel="me noopener noreferrer"></a>
        

        
        <a class="icon-twitter" href="https://twitter.com/SkypLabs" title="Twitter" target="_blank" rel="noopener noreferrer"></a>
        

        
        <a class="icon-linkedin" href="https://www.linkedin.com/in/peraoul" title="LinkedIn" target="_blank" rel="noopener noreferrer"></a>
        

        
        <a class="icon-keybase" href="https://keybase.io/skyplabs" title="Keybase" target="_blank" rel="noopener noreferrer"></a>
        

        
        <a class="icon-email" href="mailto:skyper@skyplabs.net" title="Email"></a>
        

        <a class="icon-rss" href="https://blog.skyplabs.net/atom.xml" title="RSS"></a>
      </div>

      <nav class="sidebar-nav">
        <a class="sidebar-nav-item" href="/">Home</a>
        
        
        <a class="sidebar-nav-item" href="/publications/">Publications</a>
        
        <a class="sidebar-nav-item" href="/about/">About me</a>
        
        <a class="sidebar-nav-item" href="/contact/">Contact</a>
        
        <a class="sidebar-nav-item" href="/support/">Support me</a>
        
      </nav>
    </div>
  </div>
  

  <div class="content container">
    
<article class="post" property="blogPost" typeof="BlogPosting">
  
  <div class="post-meta">
    
    <h2 class="post-title" property="headline">Quitter sa console sans stopper les processus en cours d'exécution</h2>
    

    <time class="post-date" datetime="2011-02-08 00:00"
      property="datePublished">08 Feb 2011</time>
    <div class="post-author" property="author" typeof="Person" hidden>
      <span property="name">Paul-Emmanuel Raoul</span>
      <span property="givenName">Paul-Emmanuel</span>
      <span property="familyName">Raoul</span>
      <span property="alternateName">Skyper</span>
      <span property="email">skyper@skyplabs.net</span>
    </div>
  </div>


  <div class="post-content" property="articleBody">
    <p>Ne vous est-il jamais arrivé de devoir quitter votre session actuelle alors
qu'un programme en cours d'exécution n'a pas terminé son traitement ? Le
contraire serait étonnant. Par exemple, vous avez lancé l'extraction d'une base
de données par SSH pour en faire un backup et vous n'avez pas le temps
d'attendre gentiment devant votre terminal que son exécution se termine.</p>
<p>Le fait est que lorsqu'on demande de fermer sa session (commande <code>exit</code>,
<code>CTRL+D</code>, ...), le processus faisant tourner le shell envoie un signal
<a rel="noopener nofollow noreferrer" target="_blank" href="https://en.wikipedia.org/wiki/SIGHUP">SIGHUP</a> à tous ses enfants pour demander leur arrêt. Des tâches comme
l'extraction d'une base de données citée dans mon exemple prendront fin à
l'instant où la session sera fermée.</p>
<span id="continue-reading"></span>
<p>Pour modifier ce comportement, il existe une commande appelée <code>nohup</code> qui permet
d'indiquer à un programme de ne pas réagir lors de la réception d'un signal
SIGHUP et donc de poursuivre son exécution même après la fermeture de la session
ayant servi à le lancer. Concrètement, il faut passer en argument à la commande
<code>nohup</code> la commande désirée à proprement parlé pour empêcher sa fermeture. Les
canaux de sortie et d'erreur standards sont redirigés par défaut vers un fichier
appelé <code>nohup.out</code>. On peut bien entendu préciser explicitement vers quel
fichier on veut rediriger ces canaux.</p>
<p>Je précise qu'il est préférable de lancer la commande en tâche de fond pour
pouvoir fermer sa session proprement comme dans l'exemple suivant :</p>
<pre style="background-color:#2b303b;color:#c0c5ce;"><code><span>nohup mysqldump -u root -pmonsuperpassword --all-databases &gt; mon_backup.db &amp;
</span><span>exit
</span></code></pre>
<p>Lors de l'ouverture de la prochaine session, vous trouverez donc le résultat de
la commande <code>mysqldump</code> dans le fichier <code>mon_backup.db</code>.</p>
<p>Aussi simple que ça !</p>

  </div>

  
  
  <span class="categories" property="keywords">
    
    
    <a href="https:&#x2F;&#x2F;blog.skyplabs.net&#x2F;categories&#x2F;sysadmin&#x2F;">SysAdmin</a>
    
    
  </span>
  

  
  <span class="tags" property="keywords">
    
    
    <a href="https:&#x2F;&#x2F;blog.skyplabs.net&#x2F;tags&#x2F;nohup&#x2F;">nohup</a>
    
    
  </span>
  

</article>

  </div>
  <script type="text/javascript" src="https://blog.skyplabs.net/elasticlunr.min.js"></script>
  <script type="text/javascript" src="https://blog.skyplabs.net/search_index.en.js"></script>
  <script type="text/javascript" src="https://blog.skyplabs.net/js/search.js"></script>
</body>
</html>
